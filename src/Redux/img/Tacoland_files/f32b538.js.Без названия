(window.webpackJsonp=window.webpackJsonp||[]).push([[34,22],{269:function(t,e,n){},277:function(t,e,n){"use strict";n(269)},279:function(t,e,n){"use strict";n.r(e);var d=n(35),o={props:{},data:function(){return{focused:!1,address:"",addressData:{},suggestions:[],timer:null}},mounted:function(){this.$store.commit("cart/initialiseStore"),this.addressData=this.$store.getters["cart/address"],this.address=this.$store.getters["cart/address"].value},methods:{submit:function(){this.focused&&(this.address&&(this.addressData.value&&this.addressData.value.trim()===this.address.trim()?(this.$store.dispatch("cart/setAddress",this.addressData),this.address=this.addressData.value):this.$store.dispatch("cart/setAddressTextOnly",this.address.trim())),this.close())},open:function(){this.focused=!0,0===this.suggestions.length&&this.getSuggestions()},getSuggestions:function(){var t=this,e=new FormData;e.append("address",this.address),this.$axios.$post("/api/1.0.0/address/suggestions",e).then((function(e){t.suggestions=e.suggestions})).catch((function(t){}))},suggestionClick:function(s){var t=this;this.address=s.value,this.addressData=s,this.$store.dispatch("cart/setAddress",this.addressData),this.$refs.address_input.focus(),setTimeout((function(){t.$refs.address_input.scrollLeft=t.$refs.address_input.scrollWidth}),300),s.isHouse?this.close():this.address+=" "},close:function(){this.focused=!1,this.$refs.address_input.blur()},isValid:function(){return this.addressStore&&this.addressStore.valid},notValid:function(){return this.addressStore&&(!1===this.addressStore.valid||this.addressStore.onlyText)},clickOnPreventHolder:function(t){this.submit()}},computed:{addressStore:function(){return this.$store.getters["cart/address"]}},watch:{address:function(t,e){var n=this;e&&t!==e&&(clearTimeout(this.timer),this.timer=setTimeout((function(){n.getSuggestions()}),300))},addressStore:function(){this.address=this.$store.getters["cart/address"].value}},directives:{clickOutside:n.n(d).a.directive}},r=(n(277),n(3)),component=Object(r.a)(o,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{directives:[{name:"click-outside",rawName:"v-click-outside",value:t.submit,expression:"submit"}],staticClass:"header__address",class:{opened:t.focused,not_valid:t.notValid(),valid:t.isValid()}},[n("div",{staticClass:"prevent_click",on:{mousedown:t.clickOnPreventHolder}}),t._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:t.address,expression:"address"}],ref:"address_input",staticClass:"address_input",class:{not_valid:t.notValid(),valid:t.isValid()},attrs:{type:"text",placeholder:"Укажите адрес доставки"},domProps:{value:t.address},on:{focus:t.open,keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.submit.apply(null,arguments)},input:function(e){e.target.composing||(t.address=e.target.value)}}}),t._v(" "),t.notValid()?n("div",{staticClass:"address_tooltip"},[n("tooltip")],1):t._e(),t._v(" "),n("div",{directives:[{name:"show",rawName:"v-show",value:t.focused,expression:"focused"}],staticClass:"suggestions"},[t._l(t.suggestions,(function(s,i){return t.suggestions.length>0?n("div",{key:i,staticClass:"suggestion_item",class:{house:s.isHouse},on:{click:function(e){return e.stopPropagation(),e.preventDefault(),t.suggestionClick(s)}}},[t._v("\n      "+t._s(s.value)+"\n    ")]):t._e()})),t._v(" "),0===t.suggestions.length?n("div",{staticClass:"suggestion_item"},[t.address?[t._v("\n        Доступных адресов не найдено\n      ")]:[t._v("\n        Доступные города для заказов: "),n("br"),t._v("\n        г. Москва; "),n("br"),t._v("\n        Московская область; "),n("br"),t._v("\n        г. Санкт-Петербург;\n      ")]],2):t._e()],2)])}),[],!1,null,"69d66dcc",null);e.default=component.exports},328:function(t,e,n){},366:function(t,e,n){"use strict";n(328)},389:function(t,e,n){"use strict";n.r(e);var d={head:function(){var t=this;return{script:[{hid:"stripe",defer:!0,src:"https://api-maps.yandex.ru/2.1/?lang=ru_RU&coordorder=longlat",callback:function(){return t.initTimeout()}}]}},options:{layout:"baseCheckout",auth:!1},components:{addressInput:n(279).default},data:function(){return{myMap:null,myPlacemark:null}},mounted:function(){},methods:{initTimeout:function(){ymaps.ready(this.init)},addPlaceMark:function(t,e,n){void 0!==this.myPlacemark&&this.myMap.geoObjects.remove(this.myPlacemark),this.myPlacemark=new ymaps.Placemark([e,n],{hintContent:t,balloonContent:t},{preset:"islands#geolocationIcon"}),this.myMap.geoObjects.add(this.myPlacemark),this.myMap.setCenter([e,n],10)},changeCenter:function(){var t=[37.63,55.75];2===this.address.cityId&&(t=[30.31,59.92]),this.myMap.setCenter(t,10,{checkZoomRange:!0})},init:function(){var t=this,e=[37.63,55.75];2===this.address.cityId&&(e=[30.31,59.92]),this.myMap=new ymaps.Map("map",{center:e,zoom:10,controls:["zoomControl"]});var n=new ymaps.ObjectManager;this.$axios.$get("/api/1.0.0/map/map.json").then((function(e){e.features.forEach((function(t){})),n.add(e),t.myMap.geoObjects.add(n)})),this.address&&this.address.geo_lat&&this.address.geo_lon&&this.addPlaceMark(this.address.value,this.address.geo_lon,this.address.geo_lat)}},computed:{cart:function(){return this.$store.getters["cart/cart"]},address:function(){return this.$store.getters["cart/address"]},schedule:function(){return 1===this.$store.getters["cart/address"].cityId||this.$store.getters["cart/address"].cityId,"Ежедневно, с 10:00 - 03:00"}},watch:{address:function(t){this.myMap&&t&&(t.geo_lat&&t.geo_lon?this.addPlaceMark(t.value,t.geo_lon,t.geo_lat):this.changeCenter())}}},o=(n(366),n(3)),component=Object(o.a)(d,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"main"},[n("div",{staticClass:"content"},[n("div",{staticClass:"content2"},[n("div",{staticClass:"header"},[t._v("Проверка адреса")]),t._v(" "),t._m(0),t._v(" "),n("div",{staticClass:"address_check"},[n("addressInput")],1)]),t._v(" "),n("div",{staticClass:"header"},[t._v("О доставке")]),t._v(" "),n("div",{staticClass:"howto_container"},[n("div",{staticClass:"howto_half"},[n("div",{staticClass:"howto_head"},[t._v("УСЛОВИЯ ДОСТАВКИ")]),t._v(" "),n("div",{staticClass:"howto_text sum"},[t._v("Минимальная сумма "+t._s(t.cart.min_sum)+" руб.")]),t._v(" "),n("div",{staticClass:"howto_text time"},[t._v(" "+t._s(t.schedule))]),t._v(" "),n("div",{staticClass:"howto_text location"},[t._v("Работаем в г. Москва, г. Санкт-Петербург")])]),t._v(" "),n("div",{staticClass:"howto_half"},[n("div",{staticClass:"howto_head"},[t._v("КАК СДЕЛАТЬ ЗАКАЗ")]),t._v(" "),n("div",{staticClass:"howto_text menu"},[n("span",[t._v("На сайте в разделе "),n("nuxt-link",{attrs:{to:"/"}},[t._v("меню")])],1)]),t._v(" "),n("div",{staticClass:"howto_text phone"},[t._v("По телефону +7 (495) 150 18 89")])])])]),t._v(" "),t._m(1)])}),[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"map_container"},[e("div",{staticClass:"map_wrap",attrs:{id:"map"}})])},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"content"},[n("div",{staticClass:"howto_container"},[n("div",{staticClass:"howto_half"},[n("div",{staticClass:"howto_head"},[t._v("ИНФОРМИРОВАНИЕ")]),t._v(" "),n("div",{staticClass:"howto_subtext1"},[t._v("при осуществлении заказа вы будете проинформированны:")]),t._v(" "),n("div",{staticClass:"howto_text phone"},[t._v("Звонком оператора")]),t._v(" "),n("div",{staticClass:"howto_text sms"},[t._v("SMS - оповещением")]),t._v(" "),n("div",{staticClass:"howto_subtext"},[t._v("Осуществляя заказ в компании «Tacoland» вы даёте свое согласие на получение\n          оповещений об изменениях статуса заказа (прием, отправка, доставка заказа), информирование о внутренних\n          акциях и новостях (специальные предложения, скидки и иные рекламно-информационные материалы) сети ресторанов\n          «Tacoland» с помощью SMS. А также о том, что ваши персональные данные, указанные при оформлении заказа,\n          подлежат обработке юридическим лицом - ООО «ФУДМАСТЕР». ИНН 7734362261, ОГРН 1157746815368, 123060, город Москва,\n          ул. Маршала Рыбалко, д. 2 к. 6, э 11 пом I к 28 оф 6\n        ")])])])])}],!1,null,"972ce698",null);e.default=component.exports}}]);